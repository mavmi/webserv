<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Delete it</title>
</head>
<style>
  .hidden {
    display: none;
  }
  .info-block {
    padding: 0.5rem;
    margin: 0.3rem;
    border-radius: 4px;
    border: 1px solid purple;
    background: #cba9222b;
  }
</style>
<body>
<div class="info-block hidden">
</div>
<input name="delete" placeholder="File name to delete">
<button class="hidden" type="button">Delete</button>
</body>
<script>
  window.onload = () => {
    const input = document.querySelector('input[name="delete"]');
    const button = document.querySelector('button');
    input.addEventListener('input', () => {
      if (input.value) {
        button.classList.remove('hidden');
      } else {
        button.classList.add('hidden');
      }
    })
    button.addEventListener('click', () => {
      fetch('content/remove', {
        method: 'DELETE',
        body: input.value
      }).then( res => res.text()).then(res => {
        const infoBlock = document.querySelector('.info-block');
        infoBlock.textContent = res;
        infoBlock.classList.remove('hidden');
      })
    })
  }
</script>
</html>
